# This Makefile is to convert supplied Asciidoc file into
# other formats like pdf and man. The file contains code
# documentation.
#
# *.adoc files are generated by Makefile from upper (i.e. top)
# directory.

all: man pdf

# MANUAL
# Converted with a2x from asciidoc package
# a2x is little slow

man: man/zsh-autosuggestions.zsh.1

man/zsh-autosuggestions.zsh.1:
	@mkdir -p man
	a2x --verbose -L --doctype manpage --format manpage -D man zsh-autosuggestions.zsh.adoc

# PDF
# Uses asciidoctor not a2x (i.e. not asciidoc)
# Install with: gem install asciidoctor-pdf --pre

pdf: pdf/zsh-autosuggestions.zsh.pdf

pdf/zsh-autosuggestions.zsh.pdf:
	@mkdir -p pdf
	asciidoctor -a reproducible -b pdf -r asciidoctor-pdf -D pdf zsh-autosuggestions.zsh.adoc

clean:
	rm -rf man pdf data

.PHONY: man pdf clean

# vim:noet:sts=8:ts=8
